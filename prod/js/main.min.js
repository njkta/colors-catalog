"use strict";window.onload=function(){let a=t=>()=>{t.style.display="none",document.body.classList.remove("show-basket")},t=document.querySelectorAll(".add-to-basket"),l=[],e=0,c=document.querySelector(".basket-list"),s=document.querySelector(".basket__clear"),n="",r="",o="",i=()=>{e=0===l.length?(c.innerHTML="",0):(l.forEach(t=>{var e=t.getAttribute("id"),l=t.querySelector(".catalog__image_front").getAttribute("src"),a=t.querySelector(".catalog__title").textContent,t=t.querySelector(".catalog__price>span").textContent;c.innerHTML+=`
                    <div id="${e}" class="basket-list__item">
                        <div class="basket-list__images">
                            <img class="basket-list__image" src="${l}" alt="${a}">
                        </div>
                        <div class="basket-list__info">
                            <div class="catalog__title basket-list__title">${a}</div>
                            <div class="catalog__price basket-list__price"><span>${t}</span> â‚½</div>
                        </div>
                        <div class="basket-list__other">
                            <div class="basket-list__btn">
                                <button class="btn btn_small btn_minus" type="button"></button>
                                <span class="basket-list__counter" data-count-product="1"></span>
                                <button class="btn btn_small btn_plus" type="button"></button>
                            </div>
                            <div class="basket-list__delete">
                                <svg width="24" height="24">
                                    <use xlink:href="#icon-close"></use>
                                </svg>
                            </div>
                        </div>
                    </div>
                `}),(n=document.querySelectorAll(".basket-list__delete")).forEach(t=>t.addEventListener("click",d(t))),r=document.querySelectorAll(".btn_plus"),o=document.querySelectorAll(".btn_minus"),r.forEach(t=>t.addEventListener("click",u(t))),o.forEach(t=>t.addEventListener("click",_(t))),l.length),b(e)},d=t=>()=>{t.parentElement.parentElement.classList.add("deleted"),e=l.length-1,b(e)},u=(t.forEach(t=>t.addEventListener("click",(e=>()=>{e.disabled=!0;var t=e.parentElement.parentElement.parentElement;l.push(t),c.innerHTML="",i()})(t))),s.addEventListener("click",()=>{l=[],b(0),t.forEach(t=>t.disabled=!1),i()}),l=>()=>{let t=l.previousElementSibling;var e=t.getAttribute("data-count-product");e++,t.setAttribute("data-count-product",e)}),_=l=>()=>{l.disabled=!1;let t=l.nextElementSibling;var e=t.getAttribute("data-count-product");e--,t.setAttribute("data-count-product",e),0==e&&(l.disabled=!0)},b=e=>{let t=document.querySelectorAll(".basket__count");t.forEach(t=>t.setAttribute("data-count",e))};let m=document.querySelector(".catalog-sort__item_default"),k=m.children[0],v=document.querySelector(".modal-sort__back"),y=document.querySelectorAll(".catalog-sort__item"),p=document.querySelectorAll(".catalog__item"),h=document.querySelector(".modal-sort"),g,E,S=(m.addEventListener("click",()=>h.style.display="block"),v.addEventListener("click",()=>h.style.display="none"),y.forEach(t=>{t.addEventListener("click",()=>{g=t.getAttribute("data-sort"),E=t.textContent,k.innerHTML=E,h.style.display="none",S(p,g)})}),(t,e)=>{let l=Array.from(t),a=[];var c=()=>{l.forEach((t,e)=>{var l=t.querySelector(".catalog__price").children[0].textContent;a.push.apply(a,[[t.id,l]]),a.sort()})};switch(e){case"high":break;case"low":c();break;case"popular":case"new":break;default:c(el)}});{let t=document.querySelector(".open-basket"),e=document.querySelector(".basket__close"),l=document.querySelector(".basket__back");var q,L=document.querySelector(".basket__box");t.addEventListener("click",(q=L,()=>{q.style.display="block",document.body.classList.add("show-basket")})),e.addEventListener("click",a(L)),l.addEventListener("click",a(L))}{L=document.querySelectorAll(".catalog__item").length;let t=document.querySelector("[data-all-count]");t.setAttribute("data-all-count",L)}{let t=document.querySelectorAll(".filter__input"),l=document.querySelectorAll(".catalog__item");t.forEach(t=>{t.addEventListener("click",()=>{let e=t.parentElement.getAttribute("data-filter");t.checked,l.forEach(t=>{t.classList.remove("hide"),t.classList.contains(e)||t.classList.add("hide")})})})}};
//# sourceMappingURL=main.min.js.map