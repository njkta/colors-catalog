{"version":3,"file":"main.min.js","sources":["main.js"],"sourcesContent":["\"use strict\";\r\n\r\nwindow.onload = function(){\r\n    let onClickMenu = () => {\r\n        let menuIcon = document.querySelectorAll('.icon-menu');\r\n        let menu = document.querySelector('.right-menu-container')\r\n        let iconOpen = '#burger-menu';\r\n        let iconClose = '#icon-close';\r\n\r\n        menuIcon.forEach(el => {\r\n            el.addEventListener(\"click\", () => {\r\n                let iconPath = el.children[0].getAttribute(\"xlink:href\")\r\n                /*el.classList.toggle('close')\r\n\r\n                menu.classList.toggle('show')*/\r\n                console.log(iconPath)\r\n            })\r\n        })\r\n    }\r\n\r\n    let onClickBasket = () => {\r\n        let basketIconOpen = document.querySelector('.open-basket');\r\n        let basketIconClose = document.querySelector('.basket__close');\r\n        let basketCloseAll = document.querySelector('.basket__back');\r\n        let basket = document.querySelector('.basket__box');\r\n\r\n        basketIconOpen.addEventListener('click', basketOpen(basket))\r\n        basketIconClose.addEventListener('click', basketClose(basket))\r\n        basketCloseAll.addEventListener('click', basketClose(basket))\r\n    }\r\n\r\n    let basketOpen = (el) => {\r\n        return () => {\r\n            el.style.display = 'block';\r\n            document.body.classList.add('show-basket')\r\n        }\r\n\r\n    }\r\n    let basketClose = (el) => {\r\n        return () => {\r\n            el.style.display = 'none';\r\n            document.body.classList.remove('show-basket')\r\n        }\r\n    }\r\n\r\n    let onAddToBasket = () => {\r\n        let btnProduct = document.querySelectorAll('.add-to-basket');\r\n        let orderList = {};\r\n        let counter = 0;\r\n        let html = ``;\r\n\r\n        btnProduct.forEach(el => {\r\n            el.addEventListener('click', () => {\r\n                el.disabled = true\r\n                counter++\r\n\r\n                let productCard = el.parentElement.parentElement;\r\n                let imgProduct = productCard.querySelector('.catalog__image_front').getAttribute('src');\r\n                let titleProduct = productCard.querySelector('.catalog__title').textContent;\r\n                let priceProduct = productCard.querySelector('.catalog__price').textContent;\r\n\r\n                orderList = {\r\n                    img: imgProduct,\r\n                    title: titleProduct,\r\n                    price: priceProduct,\r\n                    count: 1\r\n                }\r\n\r\n                counterInBasket(counter)\r\n\r\n                let basketList = document.querySelector('.basket-list');\r\n                let elCount = 1;\r\n\r\n                html += `\r\n                    <div class=\"basket-list__item\">\r\n                        <div class=\"basket-list__images\">\r\n                            <img class=\"basket-list__image\" src=\"${orderList.img}\">\r\n                        </div>\r\n                        <div class=\"basket-list__info\">\r\n                            <div class=\"catalog__title basket-list__title\">${orderList.title}</div>\r\n                            <div class=\"catalog__price basket-list__price\">${orderList.price}</div>\r\n                        </div>\r\n                        <div class=\"basket-list__other\">\r\n                            <div class=\"basket-list__btn\">\r\n                                <span class=\"btn btn_small btn_minus\"></span>\r\n                                <span class=\"basket-list__counter\">${elCount}</span>\r\n                                <span class=\"btn btn_small btn_plus\"></span>\r\n                            </div>\r\n                            <div class=\"basket-list__delete\">\r\n                                <svg width=\"24\" height=\"24\">\r\n                                    <use xlink:href=\"#icon-close\"></use>\r\n                                </svg>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                `;\r\n                basketList.innerHTML = html;\r\n\r\n                toolsBasket(html, el);\r\n            })\r\n        })\r\n\r\n    }\r\n\r\n    let toolsBasket = (html, btnAdd) => {\r\n        let clearAll = document.querySelector('.basket__clear');\r\n        let clearProduct = document.querySelectorAll('.basket-list__delete');\r\n        let countProduct = document.querySelectorAll('.basket-list__counter');\r\n        let countProductPlus = document.querySelectorAll('.btn_plus');\r\n        let countProductMinus = document.querySelectorAll('.btn_minus');\r\n        let basketList = document.querySelector('.basket-list');\r\n\r\n        clearAll.addEventListener('click', () => {\r\n            basketList.innerHTML = ''\r\n            counterInBasket(0)\r\n            btnAdd.disabled = false\r\n        })\r\n\r\n        console.log(clearProduct)\r\n\r\n        clearProduct.forEach(el => {\r\n            el.addEventListener('click', () => {\r\n\r\n                el.parentElement.parentElement.innerHTML = ''\r\n                btnAdd.disabled = false\r\n            })\r\n        })\r\n\r\n    }\r\n\r\n    let counterInBasket = (counter) => {\r\n        let basketCounter = document.querySelectorAll('.basket__count')\r\n        basketCounter.forEach(el => el.setAttribute('data-count', counter))\r\n    }\r\n\r\n    onClickMenu();\r\n    onClickBasket();\r\n    onAddToBasket();\r\n}\r\n\r\n"],"names":["window","onload","let","basketClose","el","style","display","document","body","classList","remove","counterInBasket","basketCounter","querySelectorAll","forEach","setAttribute","counter","onClickMenu","menuIcon","querySelector","addEventListener","iconPath","children","getAttribute","console","log","onClickBasket","basketIconOpen","basketIconClose","basketCloseAll","basket","add","onAddToBasket","btnProduct","orderList","html","disabled","productCard","parentElement","imgProduct","titleProduct","textContent","priceProduct","img","title","price","count","basketList","innerHTML","toolsBasket","btnAdd","clearAll","clearProduct"],"mappings":"AAAA,aAEAA,OAAOC,OAAS,WA6BZC,IAOIC,EAAc,GACP,KACHC,EAAGC,MAAMC,QAAU,OACnBC,SAASC,KAAKC,UAAUC,OAAO,aAAa,CAChD,EA8DJR,IA0BIS,EAAkB,IAClBT,IAAIU,EAAgBL,SAASM,iBAAiB,gBAAgB,EAC9DD,EAAcE,QAAQV,GAAMA,EAAGW,aAAa,aAAcC,CAAO,CAAC,CACtE,EAEAC,CAnIIf,IAAIgB,EAAWX,SAASM,iBAAiB,YAAY,EAC1CN,SAASY,cAAc,uBAAuB,EAIzDD,EAASJ,QAAQV,IACbA,EAAGgB,iBAAiB,QAAS,KACzBlB,IAAImB,EAAWjB,EAAGkB,SAAS,GAAGC,aAAa,YAAY,EAIvDC,QAAQC,IAAIJ,CAAQ,CACxB,CAAC,CACL,CAAC,CAsHO,CACZK,CAnHIxB,IAAIyB,EAAiBpB,SAASY,cAAc,cAAc,EACtDS,EAAkBrB,SAASY,cAAc,gBAAgB,EACzDU,EAAiBtB,SAASY,cAAc,eAAe,EAC3DjB,IAOa,EAPT4B,EAASvB,SAASY,cAAc,cAAc,EAElDQ,EAAeP,iBAAiB,SAKnB,EALuCU,EAM7C,KACH1B,EAAGC,MAAMC,QAAU,QACnBC,SAASC,KAAKC,UAAUsB,IAAI,aAAa,CAC7C,EAT2D,EAC3DH,EAAgBR,iBAAiB,QAASjB,EAAY2B,CAAM,CAAC,EAC7DD,EAAeT,iBAAiB,QAASjB,EAAY2B,CAAM,CAAC,CA4GlD,CACdE,CA3FI9B,IAAI+B,EAAa1B,SAASM,iBAAiB,gBAAgB,EACvDqB,EACAlB,EAAU,EACVmB,EAAO,GAEXF,EAAWnB,QAAQV,IACfA,EAAGgB,iBAAiB,QAAS,KACzBhB,EAAGgC,SAAW,CAAA,EACdpB,CAAO,GAEPd,IAAImC,EAAcjC,EAAGkC,cAAcA,cACnCpC,IAAIqC,EAAaF,EAAYlB,cAAc,uBAAuB,EAAEI,aAAa,KAAK,EAClFiB,EAAeH,EAAYlB,cAAc,iBAAiB,EAAEsB,YAC5DC,EAAeL,EAAYlB,cAAc,iBAAiB,EAAEsB,YAEhEP,EAAY,CACRS,IAAKJ,EACLK,MAAOJ,EACPK,MAAOH,EACPI,MAAO,CACX,EAEAnC,EAAgBK,CAAO,EAEvBd,IAAI6C,EAAaxC,SAASY,cAAc,cAAc,EAGtDgB;;;mEAGmDD,EAAUS;;;6EAGAT,EAAUU;6EACVV,EAAUW;;;;;;;;;;;;;;;kBAgBvEE,EAAWC,UAAYb,EAEvBc,CAAYd,EAAZc,IAMaC,EANK9C,EAO1BF,IAAIiD,EAAW5C,SAASY,cAAc,gBAAgB,EAClDiC,EAAe7C,SAASM,iBAAiB,sBAAsB,EAI/DkC,GAHexC,SAASM,iBAAiB,uBAAuB,EAC7CN,SAASM,iBAAiB,WAAW,EACpCN,SAASM,iBAAiB,YAAY,EAC7CN,SAASY,cAAc,cAAc,GAEtDgC,EAAS/B,iBAAiB,QAAS,KAC/B2B,EAAWC,UAAY,GACvBrC,EAAgB,CAAC,EACjBuC,EAAOd,SAAW,CAAA,CACtB,CAAC,EAEDZ,QAAQC,IAAI2B,CAAY,EAExBA,EAAatC,QAAQV,IACjBA,EAAGgB,iBAAiB,QAAS,KAEzBhB,EAAGkC,cAAcA,cAAcU,UAAY,GAC3CE,EAAOd,SAAW,CAAA,CACtB,CAAC,CACL,CAAC,CA5B2B,CACxB,CAAC,CACL,CAAC,CAqCS,CAClB"}